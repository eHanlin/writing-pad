!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("jQuery"),require("drawingboard.js")):"function"==typeof define&&define.amd?define(["jQuery","drawingboard.js"],n):"object"==typeof exports?exports.writingPad=n(require("jQuery"),require("drawingboard.js")):t.writingPad=n(t.jQuery,t["drawingboard.js"])}(this,function(t,n){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=4)}([function(n,e){n.exports=t},function(t,n){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],n=0;n<this.length;n++){var e=this[n];e[2]?t.push("@media "+e[2]+"{"+e[1]+"}"):t.push(e[1])}return t.join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<n.length;o++){var a=n[o];"number"==typeof a[0]&&i[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),t.push(a))}},t}},function(t,n){function e(t,n){for(var e=0;e<t.length;e++){var i=t[e],o=g[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(s(i.parts[r],n))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(s(i.parts[r],n));g[i.id]={id:i.id,refs:1,parts:a}}}}function i(t){for(var n=[],e={},i=0;i<t.length;i++){var o=t[i],r=o[0],a=o[1],d=o[2],s=o[3],l={css:a,media:d,sourceMap:s};e[r]?e[r].parts.push(l):n.push(e[r]={id:r,parts:[l]})}return n}function o(t,n){var e=h(),i=v[v.length-1];if("top"===t.insertAt)i?i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),v.push(n);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");e.appendChild(n)}}function r(t){t.parentNode.removeChild(t);var n=v.indexOf(t);n>=0&&v.splice(n,1)}function a(t){var n=document.createElement("style");return n.type="text/css",o(t,n),n}function d(t){var n=document.createElement("link");return n.rel="stylesheet",o(t,n),n}function s(t,n){var e,i,o;if(n.singleton){var s=w++;e=b||(b=a(n)),i=l.bind(null,e,s,!1),o=l.bind(null,e,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=d(n),i=u.bind(null,e),o=function(){r(e),e.href&&URL.revokeObjectURL(e.href)}):(e=a(n),i=c.bind(null,e),o=function(){r(e)});return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else o()}}function l(t,n,e,i){var o=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=A(n,o);else{var r=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(r,a[n]):t.appendChild(r)}}function c(t,n){var e=n.css,i=n.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}function u(t,n){var e=n.css,i=n.sourceMap;i&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([e],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var g={},p=function(t){var n;return function(){return void 0===n&&(n=t.apply(this,arguments)),n}},f=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,w=0,v=[];t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");n=n||{},void 0===n.singleton&&(n.singleton=f()),void 0===n.insertAt&&(n.insertAt="bottom");var o=i(t);return e(o,n),function(t){for(var r=[],a=0;a<o.length;a++){var d=o[a],s=g[d.id];s.refs--,r.push(s)}if(t){e(i(t),n)}for(var a=0;a<r.length;a++){var s=r[a];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete g[s.id]}}}};var A=function(){var t=[];return function(n,e){return t[n]=e,t.filter(Boolean).join("\n")}}()},function(t,n,e){"use strict";function i(){return(Math.random()*r>>1).toString(16)}function o(){return i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()}Object.defineProperty(n,"__esModule",{value:!0}),n.string=o;var r=1e5},function(t,n,e){t.exports=e(8)},,,,function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),r=(i(o),e(9)),a=(i(r),e(11)),d=(i(a),e(15)),s=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);n.default=t}(d),e(16)),l=i(s),c=e(17),u=i(c),g=e(19),p=i(g),f=e(20),h=i(f),b=e(21),w=i(b),v=e(22),A=i(v),y=e(23),m=i(y);DrawingBoard.Control.Close=l.default,DrawingBoard.Control.Grid=u.default,DrawingBoard.Control.ExtendVertical=p.default,DrawingBoard.Control.Drawing=h.default,DrawingBoard.Control.Eraser=w.default,DrawingBoard.Control.Reset=A.default,function(){var t=DrawingBoard.Control.Navigation.prototype.initialize;DrawingBoard.Control.Navigation.prototype.initialize=function(){t.apply(this,arguments),this.$el.find(".drawing-board-control-navigation-reset").html("<i class='fa fa-repeat'/>")}}();var x={build:m.default};n.default=x,t.exports=x},function(t,n,e){var i=e(10);"string"==typeof i&&(i=[[t.i,i,""]]);e(2)(i,{});i.locals&&(t.exports=i.locals)},function(t,n,e){n=t.exports=e(1)(),n.push([t.i,'.drawing-board,.drawing-board *{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.drawing-board-controls-hidden,.drawing-board-utils-hidden{display:none!important}.drawing-board{position:relative;display:block}.drawing-board-canvas-wrapper{position:relative;margin:0;border:1px solid #ddd}.drawing-board-canvas{position:absolute;top:0;left:0;z-index:10;width:auto;cursor:crosshair;z-index:20}.drawing-board-cursor{position:absolute;top:0;left:0;pointer-events:none;border-radius:50%;background:#ccc;background:rgba(0,0,0,.2);z-index:30}.drawing-board-control-colors-rainbows,.drawing-board-control-size-dropdown,.drawing-board-control-size .drawing-board-control-inner,.drawing-board-control>button{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;overflow:hidden;border:none;background-color:#eee;padding:2px 4px;border:1px solid #ccc;box-shadow:0 1px 3px -2px #121212,inset 0 2px 5px 0 hsla(0,0%,100%,.3);-webkit-box-shadow:0 1px 3px -2px #121212,inset 0 2px 5px 0 hsla(0,0%,100%,.3);height:28px}.drawing-board-control>button{cursor:pointer;min-width:28px;line-height:14px}.drawing-board-control>button:focus,.drawing-board-control>button:hover{background-color:#ddd}.drawing-board-control>button.active,.drawing-board-control>button:active{box-shadow:inset 0 1px 2px 0 rgba(0,0,0,.2);-webkit-box-shadow:inset 0 1px 2px 0 rgba(0,0,0,.2);background-color:#ddd}.drawing-board-control>button[disabled]{color:gray}.drawing-board-control>button[disabled].active,.drawing-board-control>button[disabled]:active,.drawing-board-control>button[disabled]:focus,.drawing-board-control>button[disabled]:hover{background-color:#eee;box-shadow:0 1px 3px -2px #121212,inset 0 2px 5px 0 hsla(0,0%,100%,.3);-webkit-box-shadow:0 1px 3px -2px #121212,inset 0 2px 5px 0 hsla(0,0%,100%,.3);cursor:default}.drawing-board-controls{margin:0 auto;text-align:center;font-size:0;display:table;border-spacing:9.33333px 0;position:relative;min-height:28px}.drawing-board-controls[data-align=left]{margin:0;left:-9.33333px}.drawing-board-controls[data-align=right]{margin:0 0 0 auto;right:-9.33333px}.drawing-board-canvas-wrapper+.drawing-board-controls,.drawing-board-controls+.drawing-board-canvas-wrapper{margin-top:5px}.drawing-board-controls-hidden{height:0;min-height:0;padding:0;margin:0;border:0}.drawing-board-control{display:table-cell;border-collapse:separate;vertical-align:middle;font-size:16px;height:100%}.drawing-board-control-inner{position:relative;height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.drawing-board-control>button{margin:0;vertical-align:middle}.drawing-board-control-colors{font-size:0;line-height:0}.drawing-board-control-colors-current{border:1px solid #ccc;cursor:pointer;display:inline-block;width:26px;height:26px}.drawing-board-control-colors-rainbows{display:inline-block;margin-left:5px;position:absolute;left:0;top:33px;margin-left:0;z-index:100;width:250px;height:auto;padding:4px}.drawing-board-control-colors-rainbow{height:18px}.drawing-board-control-colors-picker:first-child{margin-right:5px}.drawing-board-control-colors-picker{display:inline-block;width:18px;height:18px;cursor:pointer}.drawing-board-control-colors-picker[data-color="rgba(255, 255, 255, 1)"]{width:16px;height:17px;border:1px solid #ccc;border-bottom:none}.drawing-board-control-colors-picker:hover{width:16px;height:16px;border:1px solid #555}.drawing-board-control-drawingmode>button{margin-right:2px}.drawing-board-control-drawingmode>button:last-child{margin-right:0}.drawing-board-control-drawingmode-pencil-button{overflow:hidden;*text-indent:-9999px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNpiZAACVlFRBhYREQZcQPnbNwa3N28YlL5+ZfgLFfvPwGD9m4FhIgsDHuAO0gTUDNKIBvyBmqt/MTDMY8Gl0f31azD7L6oUIxCnAzWmAPHBfwwM01AMUAV6JfPQIVwOYgVqqPnFyOjz6///O38YGKpAgmAD1OXlGdTk5PD5hgeouZudj8/uy9evP/78/dsFFPsJNiAoKIiBABAHap4oLi9v8fTNm48//v7NBwbgWZgkE7rqt8DY+A8JZRBW+cfIuEDT0NDlzadP3z98/doPFDuCrB7TAGFhBqCNIGwM9OcKUzs7+xdv3355+f79VqDYAiTDwZgJh7ONgYpnOvn4GL949erT7UePdgL5JVCD4fgBLBBxaX74+PG789evnwby0/8jKXgExIeB+CG6Af///1e9Ki9vFSAkZPzoyZPPJy9evA9MB77/sWiEARZkzV+/fvXYtGnTpG3btj28EBT0BqjZ5D8OjXCwPksUhA1Wpggf/PHjx/9169Y9EBERaUlgZmaIAcrLE4rk5sIqBqDmlefnRPzfWGX5EaSZm5ubgRloADGA5QZ3RgK7gESY4PMNn9ZtObPpzZvfU4DiYkiB/RcHG+S7fyxAMH/lFU2GOZd2bLx18/cEUMoD4j9I+DcS/RtJHGTYf4AAAwAxaOMYHjxKFwAAAABJRU5ErkJggg==");background-position:50% 50%;background-repeat:no-repeat}.drawing-board-control-drawingmode-pencil-button:before{content:"";display:block;width:0;height:100%}.drawing-board-control-drawingmode-eraser-button{overflow:hidden;*text-indent:-9999px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAkpJREFUeNp0kk+IElEcx39vFBc9+OfQRTAwzFt4CaYOKStj6MoeculStzoIQSB4kCVckmDx4iGCXWYJIqjoVOzO1l4qT1F7WfBWHvxzDPyTB3XUmXn93suRybUffHmP997n9/cRsFgwGARJkiAcDsPlwgEIeEZQAhCRAkgAlOD6SQP4rgMFDWVnYCAQgFgsBqFQCBwOByzZNQOotPHx1RNCCCipu6bfb+zSnslkeOQVILPrBkAirbws9btdTEWAzZPXpfepOzaeGMBXwe/3w3+MwTc3Dl+UeghTiskbBvR6Pbh18mZHB0jjmxvCKhIfR37s3r+Sevf8ca/T4TBF2HTSODuDxP7uNjrZFFbBk8lEzOVyspa4ykGYw2zfbTb/7ilvok1YhlVVFfP5vDydTkHXdXDdlhZOOnPY4/HA0YPtp3h6LFjh8XgsFgoFGTPgsKm1zDr8ajTQh8Fh5eGjZzjGI8yjKlgjF4tFGdd/YKYmRja24hw+zu3sYe2HiH3hYzQjl8tleTQanWtou93G6Qngdrth6+1+9h6hTULJZ/PeziJXKhV5OByeg1ut1gJOp9NZTdNOcQ419ot+ggp1qoLdBFmqVmNpm3A8Huewy+Wq1RH8QH9zmBlJJpMRdCIqiiIPBgN+2MCGsW/r8/kgGo1m0fmpzWarseayHlmNeL1eFiWC0cRqtSr3+/3FpSiKHMZtjU1glbFyfKgLTqfzEka9OJvNeDnzz1JnCaFmqOl8ZdJY1SiDOXCiXKg1NtG5DIt0y6ov3dE/AgwAENFWYYLj4mYAAAAASUVORK5CYII=");background-position:50% 50%;background-repeat:no-repeat}.drawing-board-control-drawingmode-eraser-button:before{content:"";display:block;width:0;height:100%}.drawing-board-control-drawingmode-filler-button{overflow:hidden;*text-indent:-9999px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnNJREFUeNp0k0trE1EUx89MJpNJooYYXBgDNtCKdRPwlbqoCKUtaNVNA0Uo7UbMxoVPEARTXEi+QWfnwn6DEAlEkrSLttTGRiULEQlJ8yChmbzI++E50yTUJA78uMy953/u/557LmOz2WDEZ2m1WrckSRJSqdR2tVrdHQyYebwHtVoNuFHqTqczhQnWKaBYLDoKhcIuzgHDMKBSqeD20qd+LNdsNocSoFhRr9ctpVLJigl4xIIJQizLAmG4cAPa7bYcy9Iug5TL5UYikbD6/X7Rbre/IUcYe3WUW5ZsnQQzW9LpNOPz+UQc5aBM5mgdh7vI9FCCAesW2tnr9YqZTAby+bw8f3AQRP6853n+Ph5hemSCntjj8YjZbFYWx2IxeS2RSEMwuA87O79eqdXquVolK+GxnP0EPbHb7RZJSGABIR6PA11zJHKIR2MhHA5DIPDj7eH3j95KpfK60Wg8Yntil8slkqgnpioLghacTidoNDpEC3q9HnheCc3s1jZeLcW943pirPw/4lKpBkqlDubnl/riycnLsLy88EKj0fhzuRyZv8RFo1E6wpBYkiqy7Z54YmIcVlYeyOKC4mYwJ0nHRaQuM5vNT6hB/iceG7sIq6sPnwmC4MerDkby40AOCCoiddie1Wp92W7zQ2KTyQSLizNP8T0EsPLBbxEDnCj0GkM2qIEwyZRCobizsfH5A1ZXFhuN52F29vpz3HkL574mk8lj24Y5wsHkvjjoX0BOIWc5jruHzbK2ufmzEwpFO3jnDhQv4JoROYdoERVyGjEgZ8iBDlF3FzXo4go6utZ9lftY4N/dXisjR0i1G0ublv8KMAA0ZoUlicxrhwAAAABJRU5ErkJggg==");background-position:50% 50%;background-repeat:no-repeat}.drawing-board-control-drawingmode-filler-button:before{content:"";display:block;width:0;height:100%}.drawing-board-control-navigation>button{font-family:Helvetica,Arial,sans-serif;font-size:14px;font-weight:700;margin-right:2px}.drawing-board-control-navigation>button:last-child{margin-right:0}.drawing-board-control-size[data-drawing-board-type=range] .drawing-board-control-inner{width:75px}.drawing-board-control-size[data-drawing-board-type=dropdown] .drawing-board-control-inner{overflow:visible}.drawing-board-control-size-range-input{position:relative;width:100%;z-index:100;margin:0;padding:0;border:0}.drawing-board-control-size-dropdown-current span,.drawing-board-control-size-dropdown span,.drawing-board-control-size-range-current{display:block;background:#333;opacity:.8}.drawing-board-control-size-range-current{display:inline-block;opacity:.15;position:absolute;pointer-events:none;left:50%;top:50%;z-index:50}.drawing-board-control-size-dropdown-current{display:block;height:100%;width:40px;overflow:hidden;position:relative}.drawing-board-control-size-dropdown-current span{position:absolute;left:50%;top:50%}.drawing-board-control-size-dropdown{position:absolute;left:-6px;top:33px;height:auto;list-style-type:none;margin:0;padding:0;z-index:100}.drawing-board-control-size-dropdown li{display:block;padding:4px;margin:3px 0;min-height:16px}.drawing-board-control-size-dropdown li:hover{background:#ccc}.drawing-board-control-size-dropdown span{margin:0 auto}.drawing-board-control-download-button{overflow:hidden;*text-indent:-9999px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoBJREFUeNqMkr9PU1EUx7/vR1tQ3yu10hAmTawtBSYSy2YccFOcnDQm/gewOLnj5GYMg4sdXFxkMca4OBAwdUBe/ZkIGFp+9tHXvh/3/fTcAm01aLzJybnn3nM+95tzrnDl6Tb+sibuTmWUWj3C6/Juk+LySUmyvt0FCKKA02ryOCy6LBiu15ngMbZ5DDCNBqIw6gKM+n4nECUJru3glKry8CpjQaHVYmC2rVH82DIMMMdGGARdwJ+SPNdFS9chx+MXDNMp/NzagWNatk/nQU/hiYAoih6FYTBCBs9zUXMCbAhx2OYOv351lPOJ3EwH4LteL6Dcp/Rfu3FrstDyIizt+agpaYxNDU0M9gl4v7Ck+TYrCYLQqZHUyTtdQBiutPSGUflczSXHs5lVKwZdSOBMvwztxVvN0RtzsiyXBFHsAvL5PBSnCpXV2getILFiE2SjspYbuZzPiDSZ2vOXmlvX5yQqTmMfg9ZXqtls1wnT09OHEyAq0aFLg/gSXsSWq9wWk+p9PrCoYTwcijdLOfE7UsEufN9HGIYnT4EnTGIXe1KqtNNIvuNnGamxfi7SgQD/nIJCTbzOPQ/SQh1pud7T4M6W/8qFIw/5WAr5m7Ozsw9UVc069Fls2yJzSC5/lnc9RhaHZVnfSqUnEgXP2oBqtYqBgYG2+mKxmOVADnAcB4yxHgD1RzehKKns/LyV4gUHBweQy+UyRkdH6UKJ6fQDFxcXoWkaXJeRuTgUGCdLQJ9bx72lGZimGWs2m+083oN+2iiFQiGxvLy8RrDzudyltgrG3N8U2G8CrPz4sGYYRqJSqWR4H/jNWbJhUjAWi8XG8R/L87yPpGCVttVfAgwAVpZR+8tZC08AAAAASUVORK5CYII=");background-position:50% 50%;background-repeat:no-repeat}.drawing-board-control-download-button:before{content:"";display:block;width:0;height:100%}',""])},function(t,n,e){var i=e(12);"string"==typeof i&&(i=[[t.i,i,""]]);e(2)(i,{});i.locals&&(t.exports=i.locals)},function(t,n,e){n=t.exports=e(1)(),n.push([t.i,'@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash-to-transparency{0%,50%,to{opacity:0}25%,75%{opacity:1}}.writing-pad-container{overflow:hidden;width:100%}.writing-pad-container .hint-area-text{display:none}.writing-pad-container[data-hint-area] .hint-area-text,.writing-pad-container[data-hint-area]:after{display:flex;justify-content:center;flex-direction:column;pointer-events:none}.writing-pad-container[data-hint-area]:after{width:100%;height:100%;position:absolute;content:" ";box-sizing:border-box;border:6px dashed #eee;background:hsla(0,0%,100%,.5);top:0;left:0}.writing-pad-container[data-hint-area] .hint-area-text,.writing-pad-container[data-hint-area]:after{text-align:center;animation-name:flash-to-transparency;animation-iteration-count:1;animation-duration:3s;font-size:80px}.writing-pad-container[data-hint-area] .hint-area-text{position:fixed;width:inherit;height:inherit;color:#000}.writing-pad-container[data-hint-area][data-control-layout=left]:after{margin-left:50px;width:calc(100% - 50px)}.writing-pad-container[data-control-layout=right] .drawing-board-controls{right:0}.writing-pad-container[data-control-layout=left-right] .drawing-board-controls,.writing-pad-container[data-control-layout=left] .drawing-board-controls,.writing-pad-container[data-control-layout=right] .drawing-board-controls{display:block}.writing-pad-container[data-control-layout=left-right] .drawing-board-controls.right,.writing-pad-container[data-control-layout=left] .drawing-board-controls.right,.writing-pad-container[data-control-layout=right] .drawing-board-controls.right{right:0}.writing-pad-container[data-control-layout=left-right] .drawing-board-controls .drawing-board-control,.writing-pad-container[data-control-layout=left] .drawing-board-controls .drawing-board-control,.writing-pad-container[data-control-layout=right] .drawing-board-controls .drawing-board-control{display:block;text-align:right}.writing-pad-container[data-control-layout=left-right] .drawing-board-controls .drawing-board-control.drawing-board-control-drawingmode button,.writing-pad-container[data-control-layout=left] .drawing-board-controls .drawing-board-control.drawing-board-control-drawingmode button,.writing-pad-container[data-control-layout=right] .drawing-board-controls .drawing-board-control.drawing-board-control-drawingmode button{display:block;float:right;clear:right;margin-right:0}.writing-pad-container[data-control-layout=left-right] .drawing-board-controls .drawing-board-control button,.writing-pad-container[data-control-layout=left] .drawing-board-controls .drawing-board-control button,.writing-pad-container[data-control-layout=right] .drawing-board-controls .drawing-board-control button{outline:0;height:50px;font-size:18px;margin-top:2px;width:50px;border-radius:50%!important}.writing-pad-container[data-control-layout=left-right] .drawing-board-controls~.drawing-board-canvas-wrapper,.writing-pad-container[data-control-layout=left] .drawing-board-controls~.drawing-board-canvas-wrapper,.writing-pad-container[data-control-layout=right] .drawing-board-controls~.drawing-board-canvas-wrapper{margin-left:50px}.writing-pad-container[data-control-layout=left-right] .controls-background,.writing-pad-container[data-control-layout=left] .controls-background,.writing-pad-container[data-control-layout=right] .controls-background{height:100%;width:50px;position:absolute;display:block;background:url('+e(13)+');opacity:.95;z-index:100}.writing-pad-container[data-control-layout=left-right] .controls-background.right,.writing-pad-container[data-control-layout=left] .controls-background.right,.writing-pad-container[data-control-layout=right] .controls-background.right{right:0}.writing-pad-container .controls-background{display:none}.writing-pad-container,.writing-pad-container .writing-inner-content{height:100%;position:relative}.writing-pad-container .writing-pad-mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.writing-pad-container .writing-pad-mask>div{margin:0 auto;height:100%;box-sizing:border-box}.writing-pad-container .writing-pad-mask>div>.drawing-board-controls{padding-top:30px;padding-bottom:10px;position:fixed;top:0;z-index:100}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper{border:none;margin:0 auto}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper .dragging-bg-button{position:absolute;left:10px;top:10px;z-index:100;cursor:pointer;display:none;background:#fff;border:1px solid #ccc}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper.grid .dragging-bg-button{display:inline-block}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper.grid:after{cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:move;content:" ";display:block;position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;background-image:url('+e(14)+");opacity:.2}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper .drawing-tip-title{display:none;color:#fd3d3d;font-size:40px}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper.move-bg .drawing-tip-title{pointer-events:none;display:block;width:100%;text-align:left;top:0;margin-left:60px}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper.move-bg .dragging-bg-button{box-shadow:inset 0 1px 2px 0 rgba(0,0,0,.2);background:#ddd}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper.move-bg.grid:after{opacity:.7}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper.move-bg canvas{z-index:0;pointer-events:none;opacity:.2}.writing-pad-container .writing-pad-mask>div>.drawing-board-canvas-wrapper .drawing-board-cursor{border-radius:50%!important}.writing-pad-container .writing-pad-mask>div canvas{opacity:.7;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}",""])},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQBAMAAAD+CqKmAAAAKlBMVEX5+fn6+vr7+/v8/Pz////4+Pj39/f29vb19fX09PTz8/Py8vLx8fHo6OgTp668AAAAkElEQVR4XmO4iwQYrriAAIRkuKLRuXXO6itLp3UtjWa4Mn3i1l0dV6Slqy0TGK6I7dgtFnwlzXKp0mqGK61lkpXSV1Z0bty4neFKeljosg1XZq0IsBFkuCKxUJOB84pwgHgWO6o9EEsgJEPr9t1wqxgOaYTDrWLgLG2GW8WQJcYDt4phQvkZuFUM26uWwq0CAHdtZDNiQoOHAAAAAElFTkSuQmCC"},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAABYlAAAWJQFJUiTwAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAAS0lEQVRIDe3SwQkAIAxD0ej+O2s3CAHJQX7BUwmhD5ekM6861cJdPW3KKHwuDimksQCfJiZzAUidULyHNCZzAUidULyHNCZzgf9JL3bOAjSNkD/+AAAAAElFTkSuQmCC"},function(t,e){t.exports=n},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=DrawingBoard.Control.extend({name:"close",initialize:function(){var t=this;this.$el.append('\n      <button class="drawing-board-control-close-button">\n        <i class="fa fa-close"></i>\n      </button>\n    '),this.$el.on("click",".drawing-board-control-close-button",function(n){t.board.__extend._onClose(),t.board.__extend.hide(),n.preventDefault()})}});n.default=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(18),o=e(0),r=function(t){return t&&t.__esModule?t:{default:t}}(o),a=DrawingBoard.Control.extend({name:"grid",initialize:function(){this.$el.append('\n      <button class="drawing-board-control-grid-button">\n        <i class="fa fa-th"></i>\n      </button>\n    '),this.$el.on("click",".drawing-board-control-grid-button",this.onClick.bind(this))},onClick:function(t){t.preventDefault(),this.board.__extend.toggleGridBg(),this._getDraggingButtonInstance(),this._setTipTitle(this.board.__extend.opts.gridTipText),this.board.__extend._getWrapper().hasClass("grid")||this._disableMovingBG(),this.getButtonElement().toggleClass("active")},getButtonElement:function(){return this.$el.find("button")},DRAG_BG_BUTTON:"dragging-bg-button",canDragging:!1,_getEventPoint:function(t){var n;if(void 0==t.pageX){var e=t.originalEvent,i=e.changedTouches;n={x:i[0].pageX,y:i[0].pageY}}else n={x:t.pageX,y:t.pageY};return n},_initMoveBGEvent:function(){var t=this,n=this.board.__extend._getWrapper();n.on("mousedown touchstart",function(n){n.preventDefault(),t.canDragging=!0;var e=t._getEventPoint(n);t.startX=e.x,t.startY=e.y}),n.on("mousemove touchmove",function(n){if(t.canDragging){var e=t._getEventPoint(n),i=e.x-t.startX,o=e.y-t.startY,r=t.getBGPoint();t.setBGPoint(r.x+i,r.y+o),t.startX=e.x,t.startY=e.y}}),n.on("mouseup touchend",function(n){return t.canDragging=!1});var e=this.$style=(0,r.default)("<style id='drawing-bg-move-style'></style>");(0,r.default)(document.body).append(e)},DRAWING_TIP_TITLE:"drawing-tip-title",_setTipTitle:function(t){var n=this.board.__extend._getWrapper(),e=n.find("."+this.DRAWING_TIP_TITLE);e.length||(e=(0,r.default)(r.default.parseHTML('\n        <div class="'+this.DRAWING_TIP_TITLE+'"></div>\n      ')),n.append(e)),e.html(t)},setBGPoint:function(t,n){this.$style.html(".drawing-board-canvas-wrapper.grid:after { background-position-x:"+t+"px; background-position-y:"+n+"px;}")},getBGPoint:function(){var t=this.board.__extend._getWrapper(),n=window.getComputedStyle(t[0],":after"),e=(n.getPropertyValue("background-position-x")||"0").replace(/[%px]/g,""),i=(n.getPropertyValue("background-position-y")||"0").replace(/[%px]/g,"");return{x:Number(e),y:Number(i)}},_disableMovingBG:function(){this.board.__extend._getWrapper().removeClass("move-bg")},_enableMovingBG:function(){this.board.__extend._getWrapper().addClass("move-bg")},_toggleMovingBG:function(){this.board.__extend._getWrapper().hasClass("move-bg")?this._disableMovingBG():this._enableMovingBG()},_getDraggingButtonInstance:function(){var t=this,n=this.board.__extend._getWrapper(),e=n.find("."+this.DRAG_BG_BUTTON);return e.length||(e=(0,r.default)(r.default.parseHTML('<button class="'+this.DRAG_BG_BUTTON+'">\n        <i class="fa fa-arrows" aria-hidden="true"></i>\n      </button>')),n.append(e),e.on(i.isTouchEvent?"touchstart":"click",function(){return t._toggleMovingBG()}),this._initMoveBGEvent()),e}});n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.isTouchEvent=function(){return"ontouchstart"in window}()},function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0});var e=DrawingBoard.Control.extend({name:"extendVertical",initialize:function(){var n=this;this.$el.append('\n      <button class="drawing-board-control-extend-vertical-button">\n        <i class="fa fa-arrows-v"></i>\n      </button>\n    '),this.$el.on("click",".drawing-board-control-extend-vertical-button",function(e){n.board.__extend.extendHeight();var i=t("body");i.animate({scrollTop:i.get(0).scrollHeight},1e3),e.preventDefault()})}});n.default=e}).call(n,e(0))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),r=DrawingBoard.Control.extend({name:"drawing",_initElement:function(t){this.$el.append('\n      <button class="'+t+'" data-mode="pencil">\n        <i class="fa fa-pencil"></i>\n      </button>\n    '),this.getButtonElement().css("color",this.color)},_initOpts:function(t){var n=t.lineWidth,e=t.color;n&&(this.lineWidth=n),e&&(this.color=e)},initialize:function(){this._initOpts(this.opts||{}),this._initElement("drawing-board-control-customize-drawing-button"),this.$el.on("click",".drawing-board-control-customize-drawing-button",this.onClick.bind(this)),this.board.ev.bind("board:mode",this.onChangedMode.bind(this))},getButtonElement:function(){return this.$el.find("button")},onClick:function(t){t.preventDefault();var n=(0,o.default)(t.currentTarget),e=n.attr("data-mode");this.board.ctx.lineWidth=this.lineWidth,this.board.setColor(this.color),this.board.setMode(e),n.addClass("active")},onChangedMode:function(){this.getButtonElement().removeClass("active")},color:"rgba(0, 0, 0, 1)",lineWidth:"2"});n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=function(t){return t&&t.__esModule?t:{default:t}}(i),r=DrawingBoard.Control.extend({name:"eraser",_initElement:function(){this.$el.append('\n      <button class="drawing-board-control-drawingmode-'+this.name+'-button" data-mode="'+this.name+'"></button>')},initialize:function(){this._initElement(),this.$el.on("click","button",this.onClick.bind(this)),this.board.ev.bind("board:mode",this.onChangedMode.bind(this)),this.opts.lineWidth&&(this.lineWidth=this.opts.lineWidth)},getButtonElement:function(){return this.$el.find("button")},onClick:function(t){t.preventDefault();var n=(0,o.default)(t.currentTarget),e=n.attr("data-mode");this.board.ctx.lineWidth=this.lineWidth,this.board.setMode(e),n.addClass("active")},onChangedMode:function(){this.getButtonElement().removeClass("active")},lineWidth:"15"});n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(0),o=(function(t){t&&t.__esModule}(i),DrawingBoard.Control.extend({name:"reset",_initElement:function(){this.$el.append('\n      <button class="drawing-board-control-reset-button">\n        <i class="fa fa-repeat" aria-hidden="true"></i>\n      </button>\n    ')},initialize:function(){var t=this;this._initElement(),this.opts.confirmationText&&(this.confirmationText=this.opts.confirmationText),this.opts.disabledConfirmation&&(this.disabledConfirmation=this.opts.disabledConfirmation),this.$el.on("click","button",function(n){n.preventDefault(),setTimeout(function(){(t.disabledConfirmation||confirm(t.confirmationText))&&(t.board.__extend.resize(),t.board.clear())},350)})},confirmationText:"確定要清除繪圖板?",disabledConfirmation:!1}));n.default=o},function(t,n,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),r=(i(o),e(3)),a=(function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);n.default=t}(r),e(24)),d=i(a),s=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new d.default(t,n)};n.default=s},function(t,n,e){"use strict";function i(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function o(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function d(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),l=e(25),c=o(l),u=e(0),g=o(u),p=e(3),f=i(p),h=e(26),b=i(h),w=e(27),v=o(w),A=e(28),y=e(29),m=e(30),x=e(31),_=e(32),k=e(33),B=o(k),C=e(34),T=(o(C),e(35)),O=o(T),R=window.Promise;void 0===window.Promise&&(R=c.default.Promise);var E=function(t){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,n);var i=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o="writingPad"+f.string();return i.histories={},i.stateHistory=new B.default(i),i._initOpts(e),i._initDOM(t,o,i.opts),i.board=new DrawingBoard.Board(o,i.boardOpts),i.board.__extend=i,i._initLayoutControls(i.opts),i._initEvents(),i._bindDelayResize=i._delayResize.bind(i),i}return d(n,t),s(n,[{key:"_initEvents",value:function(){var t=this;this.board.ev.bind(A.BOARD_START_DRAWING,function(n){return t.trigger(A.START_DRAWING,n)}),this.board.ev.bind(A.BOARD_STOP_DRAWING,function(n){return t.trigger(A.STOP_DRAWING,n)}),this.board.ev.bind(A.BOARD_DRAWING,function(n){return t.trigger(A.DRAWING,n)})}},{key:"_initOpts",value:function(t){this.opts=g.default.extend(_.DEFAULT,t),this._initBoardOpts(t)}},{key:"_initBoardOpts",value:function(t){var n=g.default.extend(!0,{},x.DEFAULT);t.controls&&(n.controls=controls),t.gridTipText&&(n.gridTipText=gridTipText),t.useMovingGesture&&(n.useMovingGesture=t.useMovingGesture),t.isDrawingOnEvent&&(n.isDrawingOnEvent=t.isDrawingOnEvent),this.boardOpts=n}},{key:"_initDOM",value:function(t,n,e){var i=this._buildContainerElement(n,e),o=(0,g.default)(t);i.hide(),o.append(i),this.$el=i,e&&e.canvasWidth&&this._setInnerContentWidth(e.canvasWidth)}},{key:"_initLayoutControls",value:function(t){var n=t&&t.controlsLayout?t.controlsLayout:null;if(m.LAYOUT_POSITIONS.indexOf(n)>-1){var e=this.$el.find(".drawing-board-controls"),i=this.$el.find(".controls-background");if(this.$el.attr(y.DATA_CONTROL_LAYOUT,t.controlsLayout),n==m.LEFT_RIGHT){var o=new O.default(this,e,i);this.simulateControls=o,o.simulate()}}this._setFirstControlToDefault()}},{key:"_setFirstControlToDefault",value:function(){this.$el.find(".drawing-board-control:first button").click()}},{key:"_getInnerContentElement",value:function(){return this.$el.find(".writing-inner-content")}},{key:"_setInnerContentWidth",value:function(t){this._getInnerContentElement().width(t+2)}},{key:"_getHintAreaTextElement",value:function(){return this.$el.find(".hint-area-text")}},{key:"_buildContainerElement",value:function(t,n){return(0,g.default)('\n      <div class="writing-pad-container" '+y.DATA_WRITING_AREA+'="'+n.hintAreaText+'">\n        <div class="hint-area-text">\n          '+n.hintAreaText+'\n        </div>\n        <div class="writing-inner-content">\n          <div class="writing-pad-mask">\n            <div id=\''+t+'\'>\n              <div class="controls-background"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"resize",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stateHistory.save();var n=void 0,e=this.board.canvas.width;0!=e&&t&&(n=b.copyCanvas(this.board.canvas)),this.$el.find(".drawing-board-canvas-wrapper, canvas").width("100%");var i=this._getInnerContentElement().width(),o=this.$el.width(),r=Math.max(i,o);this._getInnerContentElement().width(r),this.board.resize({controlHeight:!1}),0!=e&&t&&b.drawFrom(this.board.canvas,n),this.stateHistory.restore(),this.simulateControls&&this.simulateControls.resize()}},{key:"show",value:function(){this.$el.show(),this.board.startDrawing()}},{key:"hide",value:function(){this.$el.hide(),this.board.stopDrawing()}},{key:"isHidden",value:function(){return/none/i.test(this.$el.css("display"))}},{key:"toImage",value:function(){return this.board.getImg()}},{key:"toBlob",value:function(t,n){var e=this;return new R(function(i,o){e.board.canvas.toBlob(i,t,n)})}},{key:"saveByKey",value:function(t){try{this.histories[t]=b.copyCanvas(this.board.canvas)}catch(t){return console.warn(t),!1}return!0}},{key:"containKey",value:function(t){return!!this.histories[t]}},{key:"deleteKey",value:function(t){delete this.histories[t]}},{key:"_resetBoard",value:function(){this.board.clear()}},{key:"load",value:function(t){var n=this;return new R(function(e,i){if("string"==typeof t){var o=new Image;o.crossOrigin="Anonymous",o.src=t,o.onload=function(){b.drawFrom(n.board.canvas,o)}}else b.drawFrom(n.board.canvas,t)})}},{key:"restoreByKey",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.clearEmpty,i=void 0===e||e,o=n.useHistoryHeight,r=void 0!==o&&o;if(this.containKey(t)){var a=this.histories[t];return this._resetBoard(),r&&this.resetHeight(a.height),b.drawFrom(this.board.canvas,a),!0}return!!i&&this._resetBoard()}},{key:"clearStorage",value:function(){this.board.clearWebStorage()}},{key:"_onClose",value:function(){this.trigger(A.CLOSE)}},{key:"_getWrapper",value:function(){return this.$el.find(".drawing-board-canvas-wrapper")}},{key:"openGridBg",value:function(){this._getWrapper().addClass("grid")}},{key:"closeGridBg",value:function(){this._getWrapper().removeClass("grid")}},{key:"toggleGridBg",value:function(){this._getWrapper().toggleClass("grid")}},{key:"_delayResize",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;clearTimeout(this._timeId),this._timeId=setTimeout(function(){t.isHidden()||t.resize()},n)}},{key:"getHeight",value:function(){return this.$el.height()}},{key:"extendHeight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;this.$el.height(this.getHeight()+t),this.resize(),this._resizeHintText()}},{key:"resetHeight",value:function(t){this.$el.height(t),this.resize(!1),this._resetBoard()}},{key:"autosize",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(0,g.default)(window).off("resize",this._bindDelayResize):(0,g.default)(window).on("resize",this._bindDelayResize)}},{key:"_resizeHintText",value:function(){var t=Math.min(this.$el.height(),(0,g.default)(window).height());this._getHintAreaTextElement().height(t-40)}},{key:"openHintWritingArea",value:function(){var t=this;return new R(function(n,e){var i=function(){t.closeHintWritingArea(),n()},o=setTimeout(function(){i()},3800);t.$el.attr(y.DATA_HINT_AREA,""),t._resizeHintText(),t.$el.one("webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",function(t){i(),clearTimeout(o)})})}},{key:"closeHintWritingArea",value:function(){this.$el.removeAttr(y.DATA_HINT_AREA)}}]),n}(v.default);n.default=E},function(t,n){!function(n){function e(){}function i(t,n){return function(){t.apply(n,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function r(t,n){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(n);t._handled=!0,o._immediateFn(function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null===e)return void(1===t._state?a:d)(n.promise,t._value);var i;try{i=e(t._value)}catch(t){return void d(n.promise,t)}a(n.promise,i)})}function a(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof o)return t._state=3,t._value=n,void s(t);if("function"==typeof e)return void c(i(e,n),t)}t._state=1,t._value=n,s(t)}catch(n){d(t,n)}}function d(t,n){t._state=2,t._value=n,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var n=0,e=t._deferreds.length;n<e;n++)r(t,t._deferreds[n]);t._deferreds=null}function l(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function c(t,n){var e=!1;try{t(function(t){e||(e=!0,a(n,t))},function(t){e||(e=!0,d(n,t))})}catch(t){if(e)return;e=!0,d(n,t)}}var u=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,n){var i=new this.constructor(e);return r(this,new l(t,n,i)),i},o.all=function(t){var n=Array.prototype.slice.call(t);return new o(function(t,e){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var d=a.then;if("function"==typeof d)return void d.call(a,function(t){i(r,t)},e)}n[r]=a,0==--o&&t(n)}catch(t){e(t)}}if(0===n.length)return t([]);for(var o=n.length,r=0;r<n.length;r++)i(r,n[r])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(n){n(t)})},o.reject=function(t){return new o(function(n,e){e(t)})},o.race=function(t){return new o(function(n,e){for(var i=0,o=t.length;i<o;i++)t[i].then(n,e)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){u(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)},function(t,n,e){"use strict";function i(t){var n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n}function o(t,n){var e=t.getContext("2d"),i=e.globalCompositeOperation;e.globalCompositeOperation="source-over",e.drawImage(n,0,0),e.globalCompositeOperation=i}Object.defineProperty(n,"__esModule",{value:!0}),n.copyCanvas=i,n.drawFrom=o},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function(){function t(){i(this,t),this._events={}}return o(t,[{key:"on",value:function(t,n){(this._events[t]?this._events[t]:this._events[t]=[]).push(n)}},{key:"off",value:function(t,n){if(1==arguments.length)this._events[t]=[];else if(arguments.length>1){var e=this._events[t],i=e.indexOf(n);i>-1&&events.splice(i,1)}}},{key:"trigger",value:function(t){var n=this._events[t];if(n){var e=Array.prototype.slice.call(arguments,1);for(var i in n)n[i].apply(this,e)}}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.CLOSE="hide",n.START_DRAWING="startDrawing",n.BOARD_START_DRAWING="board:startDrawing",n.STOP_DRAWING="stopDrawing",n.BOARD_STOP_DRAWING="board:stopDrawing",n.DRAWING="drawing",n.BOARD_DRAWING="board:drawing"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.DATA_HINT_AREA="data-hint-area",n.DATA_WRITING_AREA="data-writing-area-text",n.DATA_CONTROL_LAYOUT="data-control-layout"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=n.LEFT="left",o=n.RIGHT="right",r=n.LEFT_RIGHT="left-right";n.LAYOUT_POSITIONS=[i,o,r]},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.DEFAULT={autoHistory:!1,autoStorage:!1,eraserColor:"transparent",background:"",controlsPosition:"center",controls:[{Drawing:{color:"rgba(0, 0, 255, 1)"}},"Drawing",{Eraser:{lineWidth:"30"}},"Reset","ExtendVertical","Grid","Close"]}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.DEFAULT={gridTipText:"請將格線拖拉至適當位置",hintAreaText:"手寫範圍"}},function(t,n,e){"use strict";(function(t){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function(){function n(i){e(this,n),this.COPY_CTX_TYPES=["string","boolean","number"],this.pad=i,this.ctxTmp={},this.$actives=t()}return o(n,[{key:"_reset",value:function(){this.ctxTmp={}}},{key:"_saveCtx",value:function(){var t=this.pad.board.ctx;this._reset();for(var n in t){var e=t[n],o=void 0===e?"undefined":i(e);this.COPY_CTX_TYPES.indexOf(o)>-1&&-1==n.indexOf("webkit")&&(this.ctxTmp[n]=e)}}},{key:"_saveControls",value:function(){this.$actives=this.pad.$el.find(".drawing-board-control .active")}},{key:"save",value:function(){this._saveCtx(),this._saveControls()}},{key:"_restoreCtx",value:function(){var t=this.pad.board.ctx;for(var n in this.ctxTmp)t[n]=this.ctxTmp[n]}},{key:"restore",value:function(){this._restoreCtx(),this.$actives.addClass("active")}}]),n}();n.default=r}).call(n,e(0))},function(t,n,e){var i;!function(o){"use strict";var r=o.HTMLCanvasElement&&o.HTMLCanvasElement.prototype,a=o.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),d=a&&o.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),s=o.BlobBuilder||o.WebKitBlobBuilder||o.MozBlobBuilder||o.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(a||s)&&o.atob&&o.ArrayBuffer&&o.Uint8Array&&function(t){var n,e,i,o,r,c,u,g,p;if(!(n=t.match(l)))throw new Error("invalid data URI");for(e=n[2]?n[1]:"text/plain"+(n[3]||";charset=US-ASCII"),i=!!n[4],o=t.slice(n[0].length),r=i?atob(o):decodeURIComponent(o),c=new ArrayBuffer(r.length),u=new Uint8Array(c),g=0;g<r.length;g+=1)u[g]=r.charCodeAt(g);return a?new Blob([d?u:c],{type:e}):(p=new s,p.append(c),p.getBlob(e))};o.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(t,n,e){var i=this;setTimeout(function(){t(e&&r.toDataURL&&c?c(i.toDataURL(n,e)):i.mozGetAsFile("blob",n))})}:r.toDataURL&&c&&(r.toBlob=function(t,n,e){var i=this;setTimeout(function(){t(c(i.toDataURL(n,e)))})})),void 0!==(i=function(){return c}.call(n,e,n,t))&&(t.exports=i)}(window)},function(t,n,e){"use strict";(function(t){function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=function(t){return setTimeout(t,500)},r=(clearTimeout,function(){function n(t,i,o){e(this,n),this.pad=t,this.board=t.board,this._unbindEventFunctions=[],this.$controls=i,this.$background=o,this._initElement(i,o)}return i(n,[{key:"_initElement",value:function(t,n){this.$el=t.clone(),this.$el.insertAfter(t),this.$el.addClass("right clone"),this.$elBackground=n.clone(),this.$elBackground.insertAfter(n),this.$elBackground.addClass("right"),this.$el.css("position","absolute")}},{key:"simulate",value:function(){var n=this,e=this.$controls.find("button"),i=this.$el.find("button");this._unbindAll(),e.each(function(e,o){n._linkElement(i.eq(e),t(o))});var r=null,a=function(){if(!n.pad.isHidden()){var e=n.board.$el.width()-n.pad.$el.width();n.$el.offset({top:t(window).scrollTop()}),n.$el.css("right",e+"px"),n.$elBackground.css("right",e+"px"),r=null}},d=function(){null==r&&(r=o(a))};this._refreshPosition=a,t(window).on("resize",d),t(window).on("scroll",d),this._unbindEventFunctions.push(function(){return t(window).off("resize",d)}),this._unbindEventFunctions.push(function(){return t(window).off("scroll",d)}),d()}},{key:"resize",value:function(){this._refreshPosition&&this._refreshPosition()}},{key:"_unbindAll",value:function(){for(;this._unbindEventFunctions.length;){this._unbindEventFunctions.pop()()}this._refreshPosition=null}},{key:"_syncStyle",value:function(t,n){t.attr("class",n.attr("class"))}},{key:"_bindMutationObserver",value:function(t,n){var e=this,i=new MutationObserver(function(i){i.forEach(function(i){"class"===i.attributeName&&e._syncStyle(t,n)})});i.observe(n[0],{attributes:!0}),this._unbindEventFunctions.push(function(){return i.disconnect()})}},{key:"_linkElement",value:function(t,n){var e=function(){n.click()};t.on("click",e),this._bindMutationObserver(t,n),this._unbindEventFunctions.push(function(){return t.off("click",e)})}}]),n}());n.default=r}).call(n,e(0))}])});
//# sourceMappingURL=bundle.js.map